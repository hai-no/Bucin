<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=1, minimum-scale=1, maximum-scale=5"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Shippori+Antique&display=swap"
      rel="stylesheet"
    />

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.all.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-dark/dark.css"
    />

    <!-- Font Awesome -->
    <script
      src="https://kit.fontawesome.com/4f3ce16e3e.js"
      crossorigin="anonymous"
    ></script>

    <!-- Custom CSS -->
    <link
      href="https://kuisberhadiah.likeadream.repl.co/style.css"
      rel="stylesheet"
      type="text/css"
    />

    <style>
      body {
        /* Mengubah background menjadi hijau pastel yang lucu dan imut, dengan !important untuk override CSS eksternal */
        background-color: #a8e6cf !important; /* Hijau pastel */
        background-image: none !important; /* Menghapus gambar background lama */
        font-family: "Shippori Antique", sans-serif;
      }

      body::before {
        opacity: 0;
      }

      /* Sembunyikan kontrol musik sepenuhnya agar tidak terlihat */
      #music-controls {
        display: none !important;
      }

      /* Style untuk animasi kue dan kelinci */
      #birthday-animation {
        display: none; /* Awalnya tersembunyi, muncul saat expl() */
        text-align: center;
        margin-top: 20px;
      }

      #cake-gif {
        width: 200px;
        height: auto;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      #bunny-gif {
        width: 150px;
        height: auto;
        margin-top: 10px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      /* Animasi sederhana untuk membuat GIF lebih hidup */
      @keyframes bounce {
        0%,
        20%,
        50%,
        80%,
        100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-10px);
        }
        60% {
          transform: translateY(-5px);
        }
      }

      #cake-gif:hover {
        animation: bounce 1s infinite;
      }

      #bunny-gif:hover {
        animation: bounce 1s infinite;
      }
    </style>
  </head>
  <body>
    <div id="bodyblur"></div>
    <div id="konten">
      <div id="fotoloveu"></div>

      <p class="catatan" id="koteks" style="display: none">
        <marquee scrollamount="8" id="marq">
          <i id="spasi"></i> Yuhuuuu Chapter 21 Begins, <i id="spasi"></i> Kapan
          nih ditraktirinnya?.<i id="spasi"></i> Ayoo kitaa main dong sayangg.<i
            id="spasi"
          ></i>
          Happy Twenty One bubuu &#129395;&#129395;&#129395;
        </marquee>
      </p>

      <!-- Animasi kue ulang tahun dengan lilin dan kelinci meniup lilin -->
      <div id="birthday-animation">
        <img
          id="cake-gif"
          src="https://media.giphy.com/media/3o7TKz9bX9Z8LxQ8Qo/giphy.gif"
          alt="Kue ulang tahun dengan lilin menyala"
        />
        <br />
        <img
          id="bunny-gif"
          src="https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif"
          alt="Kelinci meniup lilin"
        />
      </div>
    </div>

    <!-- Elemen audio untuk musik Happy Birthday, tanpa kontrol terlihat, langsung autoplay dan loop -->
    <audio id="birthday-song" loop autoplay preload="auto">
      <!-- Menggunakan URL MP3 yang lebih akurat berdasarkan pola lesfm.net -->
      <!-- Jika tidak bekerja, download file MP3 dari https://lesfm.net/id/track/happy-birthday-girl dan upload ke server gratis (misal GitHub atau Dropbox), lalu ganti URL di sini -->
      <source
        src="https://lesfm.net/mp3/happy-birthday-girl.mp3"
        type="audio/mpeg"
      />
      <!-- Fallback: Jika URL di atas tidak bekerja, gunakan URL alternatif atau upload sendiri -->
      <!-- Contoh alternatif: <source src="https://www.soundjay.com/misc/sounds/happy-birthday-song.mp3" type="audio/mpeg"> -->
      Browser Anda tidak mendukung elemen audio.
    </audio>

    <script>
      async function mulai() {
        const swals = Swal.mixin({
          backdrop:
            "rgba(168, 230, 207, 0.4)" /* Mengubah backdrop menjadi hijau pastel agar konsisten */,
          confirmButtonColor: "#003EFF",
          cancelButtonColor: "#FF0040",
          allowOutsideClick: false,
        });
        // Tentukan nama secara langsung tanpa meminta input
        const nama = "Lvrzy♡";
        // Simpan nama ke variabel global
        window.nama = nama;

        // Mulai musik langsung saat halaman dibuka (sebelum dialog)
        playMusic();

        // Tampilkan pesan sambutan
        await swals.fire("Hi, " + nama + " ");
        await swals.fire(
          "Selamat ulang tahun yaaa, manusia yangg paling imut dan hangatku"
        );
        await swals.fire(
          "Semogaa di tahun ini kamu tambah bahagia, tambah sehat, dan tambah sering senyum, apalgi kalau senyumnyaa buat aku :D"
        );
        await swals.fire(
          "Semogaa jgaa skripsi km dilancarkan terus hingga selesai sidang dan wisudaa"
        );
        // Panggil fungsi pilih warna
        pilihwarna();
      }

      mulai();

      function playMusic() {
        var audio = document.getElementById("birthday-song");
        audio.volume = 0.5; // Atur volume agar tidak terlalu keras (opsional, 0.5 = 50%)
        audio.play().catch(function (error) {
          console.log("Autoplay diblokir oleh browser: " + error);
          // Jika autoplay diblokir, musik akan dimainkan setelah interaksi pertama (misal klik dialog)
          // Tambahkan event listener untuk memaksa play setelah klik pertama
          document.addEventListener(
            "click",
            function () {
              audio.play();
            },
            { once: true }
          ); // Hanya sekali
        });
      }

      async function pilihwarna() {
        const swals = Swal.mixin({
          confirmButtonColor: "#003EFF",
          cancelButtonColor: "#FF0040",
        });

        let { isConfirmed: warna } = await swals.fire({
          title: "Oouuuiya, " + " mau pilih warna apa nih bub?",
          text: "Ayoooo, jngan ragu-ragu ☺️",
          showCancelButton: true,
          confirmButtonText: "Biru",
          cancelButtonText: "Merah",
        });

        if (warna) {
          await swals.fire(
            "Yuhuuuuu!",
            "Kalo kamu pilih <b>Biru</b> berarti harus traktirin aku yaa &#129315;"
          );
          var { isConfirmed: warna2 } = await swals.fire({
            title: nama + " yakin pilih warna Biru?",
            text: "Atau mau ganti warna aja bub?",
            showCancelButton: true,
            confirmButtonText: "Yakin",
            cancelButtonText: "Ganti",
          });
          if (warna2) {
            await swals.fire(
              "Okeee bub!",
              `Sekarang lihat ini ya &#10084;&#65039;`
            );
            document.getElementById("koteks").style.display = "block";
            // Menghapus referensi ke elemen yang tidak ada (#tombWA) untuk menghindari error
            // Jika ada tombol WhatsApp, tambahkan elemen HTML dengan id="tombWA"
            // document.getElementById("tombWA").style.display = "block";
            expl();
            StartMarquee();
          } else {
            await swals.fire(
              "Okeee, pilihh Merah!",
              "Sama aja sih sebenernya, cuma kalo Merah traktirinnya harus lebih banyak yaa &#129315;"
            );
            document.getElementById("koteks").style.display = "block";
            // document.getElementById("tombWA").style.display = "block";
            expl();
            StartMarquee();
          }
        } else {
          await swals.fire(
            "Yuhuuuu!",
            "Kalo kamu pilih <b>Merah</b> berarti harus traktirin aku yaa &#129315;!"
          );
          var { isConfirmed: warna2 } = await swals.fire({
            title: nama + " yakin pilih warna Merah?",
            text: "Atau mau ganti warna aja nih?",
            showCancelButton: true,
            confirmButtonText: "Yakin",
            cancelButtonText: "Ganti",
          });
          if (warna2) {
            await swals.fire(
              "Okeee bub!",
              `Sekarang lihat ini ya &#10084;&#65039;`
            );
            document.getElementById("koteks").style.display = "block";
            // document.getElementById("tombWA").style.display = "block";
            expl();
            StartMarquee();
          } else {
            await swals.fire(
              "Oke, memilih Biru!",
              "Sama aja sih sebenernya, cuma kalo Biru traktirinnya harus lebih banyak yaa &#129315;"
            );
            document.getElementById("koteks").style.display = "block";
            // document.getElementById("tombWA").style.display = "block";
            expl();
            StartMarquee();
          }
        }
      }

      function expl() {
        document.getElementById("bodyblur").style.opacity = "1";
        document.getElementById("konten").style.top = "0";
        document.getElementById("fotoloveu").style.opacity = "1";
        // Tampilkan animasi kue dan kelinci saat bagian ini muncul
        document.getElementById("birthday-animation").style.display = "block";
      }

      function StartMarquee() {
        document.getElementById("marq").start();
      }
    </script>
  </body>
</html>
